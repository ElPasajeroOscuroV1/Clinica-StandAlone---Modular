<div class="reports-container" id="reportContent">
  <div class="reports-header">
    <div class="header-content">
      <div class="header-icon">üìä</div>
      <div class="header-text">
        <h1>Reportes y Estad√≠sticas</h1>
        <p>An√°lisis completo del rendimiento m√©dico y financiero</p>
      </div>
    </div>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="filters-header">
      <h3><i class="icon-filter"></i> Filtros de Reporte</h3>
      <small>Personaliza el per√≠odo y agrupaci√≥n de datos</small>
    </div>

    <div class="filters-grid">
      <div class="filter-group">
        <label for="from-date" class="filter-label">
          <i class="icon-calendar"></i> Fecha Desde
        </label>
        <input type="date" id="from-date" [(ngModel)]="from" class="filter-input" />
      </div>

      <div class="filter-group">
        <label for="to-date" class="filter-label">
          <i class="icon-calendar"></i> Fecha Hasta
        </label>
        <input type="date" id="to-date" [(ngModel)]="to" class="filter-input" />
      </div>

      <div class="filter-group">
        <label for="group-select" class="filter-label">
          <i class="icon-group"></i> Agrupar Por
        </label>
        <select id="group-select" [(ngModel)]="group" class="filter-input">
          <option value="day">üìÖ Por D√≠a</option>
          <option value="week">üìä Por Semana</option>
          <option value="month">üóìÔ∏è Por Mes</option>
        </select>
      </div>

      <div class="filter-actions">
        <button class="btn btn-primary" (click)="loadReports()">
          <i class="icon-refresh"></i> Actualizar Reportes
        </button>
      </div>
    </div>
  </div>

  <!-- Summary Cards -->
  <div class="summary-section">
    <div class="summary-header">
      <h3><i class="icon-summary"></i> Resumen Ejecutivo</h3>
      <small>M√©tricas clave del per√≠odo seleccionado</small>
    </div>

    <div class="summary-cards">
      <div class="summary-card appointments-card">
        <div class="card-icon">üìÖ</div>
        <div class="card-content">
          <div class="card-value">{{ summary.totalAppointments || 0 }}</div>
          <div class="card-label">Total de Citas</div>
          <div class="card-subtitle">Atenciones realizadas</div>
        </div>
      </div>

      <div class="summary-card income-card">
        <div class="card-icon">üí∞</div>
        <div class="card-content">
          <div class="card-value">{{ summary.totalIncome || 0 | currency:'USD':'symbol':'1.2-2' }}</div>
          <div class="card-label">Ingresos Totales</div>
          <div class="card-subtitle">Facturaci√≥n del per√≠odo</div>
        </div>
      </div>

      <div class="summary-card treatment-card">
        <div class="card-icon">ü©∫</div>
        <div class="card-content">
          <div class="card-value">{{ summary.mostRequestedTreatment || 'N/A' }}</div>
          <div class="card-label">Tratamiento M√°s Solicitado</div>
          <div class="card-subtitle">Servicio m√°s popular</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="charts-section">
    <div class="charts-header">
      <h3><i class="icon-charts"></i> Visualizaci√≥n de Datos</h3>
      <small>Gr√°ficos interactivos con m√©tricas detalladas</small>
    </div>

    <div class="charts-grid">
      <!-- Appointments Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <h4><i class="icon-appointments"></i> Citas por Per√≠odo</h4>
          <small>Evoluci√≥n temporal de atenciones</small>
        </div>
        <div class="chart-container">
          <canvas id="appointmentsChart"></canvas>
        </div>
      </div>

      <!-- Patients Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <h4><i class="icon-patients"></i> Pacientes M√°s Frecuentes</h4>
          <small>Top pacientes por frecuencia de visita</small>
        </div>
        <div class="chart-container">
          <canvas id="patientsChart"></canvas>
        </div>
      </div>

      <!-- Treatments Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <h4><i class="icon-treatments"></i> Tratamientos M√°s Realizados</h4>
          <small>Servicios m√©dicos m√°s demandados</small>
        </div>
        <div class="chart-container">
          <canvas id="treatmentsChart"></canvas>
        </div>
      </div>

      <!-- Doctor Stats Chart -->
      <div class="chart-card">
        <div class="chart-header">
          <h4><i class="icon-doctors"></i> Atenciones por Doctor</h4>
          <small>Productividad por profesional m√©dico</small>
        </div>
        <div class="chart-container">
          <canvas id="doctorStatsChart"></canvas>
        </div>
      </div>

      <!-- Payments Chart (Full Width) -->
      <div class="chart-card full-width">
        <div class="chart-header">
          <h4><i class="icon-payments"></i> Pagos por Per√≠odo</h4>
          <small>Ingresos generados en el tiempo</small>
        </div>
        <div class="chart-container">
          <canvas id="paymentsChart"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- Export Section -->
  <div class="export-section">
    <div class="export-header">
      <h3><i class="icon-export"></i> Exportar Reporte</h3>
      <small>Genera un PDF completo con todos los datos y gr√°ficos</small>
    </div>

    <div class="export-actions">
      <button class="btn btn-success export-btn" (click)="exportPDF()">
        <i class="icon-pdf"></i> Exportar Reporte Completo a PDF
      </button>
      <small class="export-note">
        El PDF incluir√° todos los gr√°ficos, estad√≠sticas y filtros aplicados
      </small>
    </div>
  </div>
</div>
