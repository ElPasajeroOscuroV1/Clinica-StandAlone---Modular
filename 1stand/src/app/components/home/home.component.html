<div class="home-container">
  <!-- Barra de navegaciÃ³n -->
  <nav class="navbar">
    <div class="nav-brand">
      <img src="assets/logo.png" alt="Logo ClÃ­nica" class="nav-logo">
      ClÃ­nica OdontolÃ³gica
    </div>
    <div class="nav-menu">
      <button class="nav-link" routerLink="/register">Registrar Usuario</button>
      <button class="nav-link" (click)="logout()">Cerrar SesiÃ³n</button>
    </div>
  </nav>

  <!-- Dashboard principal -->
  <div class="dashboard">
    <div class="dashboard-header">
      <div class="welcome-section">
        <h1>Â¡Bienvenido a tu Panel de Control!</h1>
        <p class="welcome-message">AquÃ­ tienes un resumen completo de la clÃ­nica odontolÃ³gica</p>
      </div>
      <div class="header-decoration">
        <div class="decoration-icon">ğŸ¥</div>
      </div>
    </div>

    <!-- Tarjetas de acceso rÃ¡pido -->
    <div class="quick-access-cards">
      <!-- Pacientes -->
      <div class="card" *ngIf="role === 'administrador' || role === 'recepcionista'">
        <h3>Pacientes</h3>
        <p>Gestionar pacientes</p>
        <button routerLink="/patient">Ver Pacientes</button>
      </div>

      <!-- Citas -->
      <div class="card" *ngIf="role === 'administrador' || role === 'recepcionista'">
        <h3>Citas</h3>
        <p>Administrar citas</p>
        <button routerLink="/appointment">Ver Citas</button>
      </div>

      <!-- MÃ©dicos -->
      <div class="card" *ngIf="role === 'administrador'">
        <h3>MÃ©dicos</h3>
        <p>Gestionar mÃ©dicos</p>
        <button routerLink="/doctor">Ver MÃ©dicos</button>
      </div>

      <!-- Historias ClÃ­nicas -->
      <div class="card" *ngIf="role === 'administrador' || role === 'doctor'">
        <h3>Historias ClÃ­nicas</h3>
        <p>Acceder a historias</p>
        <button routerLink="/medical-history">Ver Historias</button>
      </div>

      <!-- Pagos -->
      <div class="card" *ngIf="role === 'administrador' || role === 'recepcionista'">
        <h3>Pagos</h3>
        <p>Control de pagos</p>
        <button routerLink="/payment">Ver Pagos</button>
      </div>

      <!-- Tratamientos -->
      <div class="card" *ngIf="role === 'administrador'">
        <h3>Tratamientos</h3>
        <p>Gestionar tratamientos</p>
        <button routerLink="/treatment">Ver Tratamientos</button>
      </div>

      <!-- AtenciÃ³n MÃ©dica -->
      <div class="card" *ngIf="role === 'administrador' || role === 'doctor'">
        <h3>AtenciÃ³n MÃ©dica</h3>
        <p>Gestionar atenciones mÃ©dicas</p>
        <button routerLink="/medical-attention">Ver Atenciones</button>
      </div>

      <!-- Reportes -->
      <div class="card" *ngIf="role === 'administrador'">
        <h3>Reportes</h3>
        <p>Ver resumen y estadÃ­sticas</p>
        <button routerLink="/reports">Ver Reportes</button>
      </div>
    </div>

    <!-- SecciÃ³n de estadÃ­sticas -->
    <div class="statistics-section">
      <h2>Resumen General</h2>
      <div style="text-align: center; margin-bottom: 1rem;">
        <button class="btn btn-outline-primary" (click)="refreshStats()" [disabled]="isLoadingStats">
          <span *ngIf="isLoadingStats" class="spinner-border spinner-border-sm me-2" role="status"></span>
          Actualizar EstadÃ­sticas
        </button>
      </div>
      <div class="stats-grid" *ngIf="!isLoadingStats">
        <div class="stat-row">
          <div class="stat-card">
            <div class="stat-icon">ğŸ“…</div>
            <h4>Citas Hoy</h4>
            <p class="stat-number">{{ stats.appointmentsToday }}</p>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <h4>Pacientes Totales</h4>
            <p class="stat-number">{{ stats.totalPatients }}</p>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ‘¨â€âš•ï¸</div>
            <h4>MÃ©dicos Activos</h4>
            <p class="stat-number">{{ stats.activeDoctors }}</p>
          </div>
        </div>
        <div class="stat-row">
          <div class="stat-card">
            <div class="stat-icon">â³</div>
            <h4>Citas Pendientes</h4>
            <p class="stat-number">{{ stats.pendingAppointments }}</p>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ’°</div>
            <h4>Pagos Pendientes</h4>
            <p class="stat-number">{{ stats.pendingPayments }}</p>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ’µ</div>
            <h4>Ingresos Hoy</h4>
            <p class="stat-number">${{ stats.todaysRevenue }}</p>
            <small class="stat-note">Estimado</small>
          </div>
      </div>
    </div>
    <div class="loading-stats" *ngIf="isLoadingStats">
      <p>Cargando estadÃ­sticas...</p>
    </div>
  </div>

  <!-- Footer decorativo -->
  <footer class="dashboard-footer">
    <div class="footer-content">
      <p>&copy; 2025 ClÃ­nica OdontolÃ³gica - Sistema de GestiÃ³n Integral</p>
      <div class="footer-icons">
        <span>ğŸ¦·</span>
        <span>ğŸ¥</span>
        <span>ğŸ‘¨â€âš•ï¸</span>
      </div>
    </div>
  </footer>
</div>
